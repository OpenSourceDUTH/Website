# Nginx configuration for static site with custom 404
location / {
    try_files $uri $uri/ @404;
}

location @404 {
    rewrite ^.*$ /404.html last;
}

# Ensure 404.html returns proper status code
location = /404.html {
    internal;
    add_header Cache-Control "no-cache, no-store, must-revalidate";
}

# Handle specific file types
location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
